---
ms.date: 06/12/2017
keywords: DSC, powershell, a konfigurációt, a beállítása
title: DSC-File erőforrás
ms.openlocfilehash: b5bc2c305b8cfccbd044274811df631264a24279
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62077330"
---
# <a name="dsc-file-resource"></a><span data-ttu-id="7a192-103">DSC-File erőforrás</span><span class="sxs-lookup"><span data-stu-id="7a192-103">DSC File Resource</span></span>

> <span data-ttu-id="7a192-104">A következőkre vonatkozik: Windows PowerShell 4.0-s, a Windows PowerShell 5.0</span><span class="sxs-lookup"><span data-stu-id="7a192-104">Applies To: Windows PowerShell 4.0, Windows PowerShell 5.0</span></span>

<span data-ttu-id="7a192-105">A fájl erőforrás a Windows PowerShell Desired State Configuration (DSC) lehetővé teszi a fájlok és mappák célcsomóponton kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="7a192-105">The File resource in Windows PowerShell Desired State Configuration (DSC) provides a mechanism to manage files and folders on the target node.</span></span> <span data-ttu-id="7a192-106">A **DestinationPath** és **SourcePath** mindkét által elérhetőnek kell lennie a cél csomópont.</span><span class="sxs-lookup"><span data-stu-id="7a192-106">The **DestinationPath** and **SourcePath** must both be accessible by the target Node.</span></span>

## <a name="syntax"></a><span data-ttu-id="7a192-107">Szintaxis</span><span class="sxs-lookup"><span data-stu-id="7a192-107">Syntax</span></span>

```
File [string] #ResourceName
{
    DestinationPath = [string]
    [ Attributes = [string[]] { Archive | Hidden | ReadOnly | System }]
    [ Checksum = [string] { CreatedDate | ModifiedDate | SHA-1 | SHA-256 | SHA-512 } ]
    [ Contents = [string] ]
    [ Credential = [PSCredential] ]
    [ Ensure = [string] { Absent | Present } ]
    [ Force = [bool] ]
    [ Recurse = [bool] ]
    [ DependsOn = [string[]] ]
    [ SourcePath = [string] ]
    [ Type = [string] { Directory | File } ]
    [ MatchSource = [bool] ]
}
```

## <a name="properties"></a><span data-ttu-id="7a192-108">Tulajdonságok</span><span class="sxs-lookup"><span data-stu-id="7a192-108">Properties</span></span>

|<span data-ttu-id="7a192-109">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="7a192-109">Property</span></span>       |<span data-ttu-id="7a192-110">Leírás</span><span class="sxs-lookup"><span data-stu-id="7a192-110">Description</span></span>                                                                   |<span data-ttu-id="7a192-111">Szükséges</span><span class="sxs-lookup"><span data-stu-id="7a192-111">Required</span></span>|<span data-ttu-id="7a192-112">Alapértelmezett</span><span class="sxs-lookup"><span data-stu-id="7a192-112">Default</span></span>|
|---------------|------------------------------------------------------------------------------|--------|-------|
|<span data-ttu-id="7a192-113">DestinationPath</span><span class="sxs-lookup"><span data-stu-id="7a192-113">DestinationPath</span></span>|<span data-ttu-id="7a192-114">A helyre, a cél csomóponton szeretne biztosítani a `Present` vagy `Absent`.</span><span class="sxs-lookup"><span data-stu-id="7a192-114">The location, on the target node, you want to ensure is `Present` or `Absent`.</span></span>|<span data-ttu-id="7a192-115">Igen</span><span class="sxs-lookup"><span data-stu-id="7a192-115">Yes</span></span>|<span data-ttu-id="7a192-116">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-116">No</span></span>|
|<span data-ttu-id="7a192-117">Attribútumok</span><span class="sxs-lookup"><span data-stu-id="7a192-117">Attributes</span></span>     |<span data-ttu-id="7a192-118">A kívánt állapotra a célként megadott fájl vagy könyvtár attribútumait.</span><span class="sxs-lookup"><span data-stu-id="7a192-118">The desired state of the attributes for the targeted file or directory.</span></span> <span data-ttu-id="7a192-119">Érvényes értékek a következők **archív**, **Hidden**, **ReadOnly**, és **rendszer**.</span><span class="sxs-lookup"><span data-stu-id="7a192-119">Valid values are **Archive**, **Hidden**, **ReadOnly**, and **System**.</span></span>|<span data-ttu-id="7a192-120">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-120">No</span></span>|<span data-ttu-id="7a192-121">Egyik sem</span><span class="sxs-lookup"><span data-stu-id="7a192-121">None</span></span>|
|<span data-ttu-id="7a192-122">Ellenőrzőösszeg</span><span class="sxs-lookup"><span data-stu-id="7a192-122">Checksum</span></span>      |<span data-ttu-id="7a192-123">Annak meghatározása,-e az azonos két fájlt használandó ellenőrzőösszeg típusa.</span><span class="sxs-lookup"><span data-stu-id="7a192-123">The checksum type to use when determining whether two files are the same.</span></span> <span data-ttu-id="7a192-124">Érvényes értékek a következők: Az SHA-1, SHA-256, SHA-512, createdDate, modifiedDate.</span><span class="sxs-lookup"><span data-stu-id="7a192-124">Valid values include: SHA-1, SHA-256, SHA-512, createdDate, modifiedDate.</span></span>|<span data-ttu-id="7a192-125">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-125">No</span></span>|<span data-ttu-id="7a192-126">A rendszer összehasonlítja a csak a fájl vagy könyvtár nevét.</span><span class="sxs-lookup"><span data-stu-id="7a192-126">Only the file or directory name is compared.</span></span>|
|<span data-ttu-id="7a192-127">Tartalom</span><span class="sxs-lookup"><span data-stu-id="7a192-127">Contents</span></span>       |<span data-ttu-id="7a192-128">Csak akkor érvényes, ha a használt `File` típusa.</span><span class="sxs-lookup"><span data-stu-id="7a192-128">Only valid when used with `File` type.</span></span> <span data-ttu-id="7a192-129">Azt jelzi, ellenőrizze, hogy a tartalom `Present` vagy `Absent` a célként megadott fájlból.</span><span class="sxs-lookup"><span data-stu-id="7a192-129">Indicates the contents to Ensure are `Present` or `Absent` from the targeted file.</span></span> |<span data-ttu-id="7a192-130">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-130">No</span></span>|<span data-ttu-id="7a192-131">Egyik sem</span><span class="sxs-lookup"><span data-stu-id="7a192-131">None</span></span>|
|<span data-ttu-id="7a192-132">Hitelesítő adatok</span><span class="sxs-lookup"><span data-stu-id="7a192-132">Credential</span></span>     |<span data-ttu-id="7a192-133">A hitelesítő adatokat, amelyek szükségesek a hozzáférési erőforrások, például a forrásfájlok.</span><span class="sxs-lookup"><span data-stu-id="7a192-133">The credentials that are required to access resources, such as source files.</span></span>|<span data-ttu-id="7a192-134">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-134">No</span></span>|<span data-ttu-id="7a192-135">A célcsomópont számítógépfiókja.</span><span class="sxs-lookup"><span data-stu-id="7a192-135">The target node's Computer Account.</span></span> <span data-ttu-id="7a192-136">(*lásd a megjegyzést*)</span><span class="sxs-lookup"><span data-stu-id="7a192-136">(*see note*)</span></span>|
|<span data-ttu-id="7a192-137">Győződjön meg, hogy</span><span class="sxs-lookup"><span data-stu-id="7a192-137">Ensure</span></span>         |<span data-ttu-id="7a192-138">A célként megadott fájl vagy könyvtár a kívánt állapotra.</span><span class="sxs-lookup"><span data-stu-id="7a192-138">The desired state of the target file or directory.</span></span> |<span data-ttu-id="7a192-139">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-139">No</span></span>|<span data-ttu-id="7a192-140">**Jelen van**</span><span class="sxs-lookup"><span data-stu-id="7a192-140">**Present**</span></span>|
|<span data-ttu-id="7a192-141">Force</span><span class="sxs-lookup"><span data-stu-id="7a192-141">Force</span></span>          |<span data-ttu-id="7a192-142">Felülbírálja a hozzáférés-műveletek (például fájl felülírása vagy egy nem üres könyvtár törlése) hibát eredményez.</span><span class="sxs-lookup"><span data-stu-id="7a192-142">Overrides access operations that would result in an error (such as overwriting a file or deleting a directory that is not empty).</span></span>|<span data-ttu-id="7a192-143">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-143">No</span></span>|`$false`|
|<span data-ttu-id="7a192-144">Parancs recurse kapcsolójának</span><span class="sxs-lookup"><span data-stu-id="7a192-144">Recurse</span></span>        |<span data-ttu-id="7a192-145">Csak akkor érvényes, ha a használt `Directory` típusa.</span><span class="sxs-lookup"><span data-stu-id="7a192-145">Only valid when used with `Directory` type.</span></span> <span data-ttu-id="7a192-146">Az állapot művelet rekurzív módon alkönyvtáraiban hajt végre.</span><span class="sxs-lookup"><span data-stu-id="7a192-146">Performs the state operation recursively to all subdirectories.</span></span>|<span data-ttu-id="7a192-147">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-147">No</span></span>|`$false`|
|<span data-ttu-id="7a192-148">DependsOn</span><span class="sxs-lookup"><span data-stu-id="7a192-148">DependsOn</span></span>      |<span data-ttu-id="7a192-149">Megadott erőforrás(ok) függőség beállítása.</span><span class="sxs-lookup"><span data-stu-id="7a192-149">Sets a dependency on specified resource(s).</span></span> <span data-ttu-id="7a192-150">Ehhez az erőforráshoz csak akkor futnak, minden függő erőforrások sikeres végrehajtása után.</span><span class="sxs-lookup"><span data-stu-id="7a192-150">This resource will only execute after successful execution of any dependent resources.</span></span> <span data-ttu-id="7a192-151">Megadhatja a tőle függő erőforrások, a szintaxis használatával `"[ResourceType]ResourceName"`.</span><span class="sxs-lookup"><span data-stu-id="7a192-151">You can specify dependent resources using the syntax `"[ResourceType]ResourceName"`.</span></span> <span data-ttu-id="7a192-152">Lásd: [about_DependsOn](../../../configurations/resource-depends-on.md)</span><span class="sxs-lookup"><span data-stu-id="7a192-152">See [about_DependsOn](../../../configurations/resource-depends-on.md)</span></span>|<span data-ttu-id="7a192-153">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-153">No</span></span>|<span data-ttu-id="7a192-154">Egyik sem</span><span class="sxs-lookup"><span data-stu-id="7a192-154">None</span></span>|
|<span data-ttu-id="7a192-155">SourcePath</span><span class="sxs-lookup"><span data-stu-id="7a192-155">SourcePath</span></span>     |<span data-ttu-id="7a192-156">Az elérési út, amelyről a fájl vagy mappa erőforrás másolásához.</span><span class="sxs-lookup"><span data-stu-id="7a192-156">The path from which to copy the file or folder resource.</span></span>|<span data-ttu-id="7a192-157">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-157">No</span></span>|<span data-ttu-id="7a192-158">Egyik sem</span><span class="sxs-lookup"><span data-stu-id="7a192-158">None</span></span>|
|<span data-ttu-id="7a192-159">Típus</span><span class="sxs-lookup"><span data-stu-id="7a192-159">Type</span></span>           |<span data-ttu-id="7a192-160">A konfigurált erőforrás típusát.</span><span class="sxs-lookup"><span data-stu-id="7a192-160">The type of resource being configured.</span></span> <span data-ttu-id="7a192-161">Érvényes értékek a következők `Directory` és `File`.</span><span class="sxs-lookup"><span data-stu-id="7a192-161">Valid values are `Directory` and `File`.</span></span>|<span data-ttu-id="7a192-162">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-162">No</span></span>|`File`|
|<span data-ttu-id="7a192-163">MatchSource</span><span class="sxs-lookup"><span data-stu-id="7a192-163">MatchSource</span></span>    |<span data-ttu-id="7a192-164">Azt határozza meg, ha az erőforrás kell figyelnie a forráskönyvtár a kezdeti másolat után hozzáadott új fájlokat.</span><span class="sxs-lookup"><span data-stu-id="7a192-164">Determines if the resource should monitor for new files added to the source directory after the initial copy.</span></span> <span data-ttu-id="7a192-165">Érték `$true` azt jelzi, hogy a kezdeti másolat után új forrásfájlokat kell másolni, hogy a célhelyen.</span><span class="sxs-lookup"><span data-stu-id="7a192-165">A value of `$true` indicates that, after the initial copy, any new source files should be copied to the destination.</span></span> <span data-ttu-id="7a192-166">Ha beállítása `$False`, az erőforrás gyorsítótárazza a forráskönyvtár tartalmát, és figyelmen kívül hagyja a kezdeti másolat után hozzáadott fájlokat.</span><span class="sxs-lookup"><span data-stu-id="7a192-166">If set to `$False`, the resource caches the contents of the source directory and ignores any files added after the initial copy.</span></span>|<span data-ttu-id="7a192-167">Nem</span><span class="sxs-lookup"><span data-stu-id="7a192-167">No</span></span>|`$false`|

> [!WARNING]
> <span data-ttu-id="7a192-168">Ha nem ad meg értéket `Credential` vagy `PSRunAsCredential` (PS még az V.5), az erőforrás eléréséhez fog használni a számítógépfiókot a célcsomópont a `SourcePath`.</span><span class="sxs-lookup"><span data-stu-id="7a192-168">If you do not specify a value for `Credential` or `PSRunAsCredential` (PS V.5), the resource will use the computer account of the target node to access the `SourcePath`.</span></span>  <span data-ttu-id="7a192-169">Ha a `SourcePath` egy UNC-megosztásnevet, ez "Hozzáférés megtagadva" hibaüzenetet eredményezhet.</span><span class="sxs-lookup"><span data-stu-id="7a192-169">When the `SourcePath` is a UNC share, this could result in an "Access Denied" error.</span></span> <span data-ttu-id="7a192-170">Ellenőrizze, hogy az engedélyek megfelelően vannak beállítva, vagy használja a `Credential` vagy `PSRunAsCredential` tulajdonságokat adja meg a fiókot kell használni.</span><span class="sxs-lookup"><span data-stu-id="7a192-170">Please ensure your permissions are set accordingly, or use the `Credential` or `PSRunAsCredential` properties to specify the account that should be used.</span></span>

## <a name="present-vs-absent"></a><span data-ttu-id="7a192-171">Jelenlegi vs. Nincs jelen</span><span class="sxs-lookup"><span data-stu-id="7a192-171">Present vs. Absent</span></span>

<span data-ttu-id="7a192-172">Az egyes DSC-erőforrások számára megadott érték alapján különböző műveleteket hajtja végre, a `Ensure` tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="7a192-172">Each DSC resource performs different operations based on the value you specify for the `Ensure` property.</span></span> <span data-ttu-id="7a192-173">Az értékeket adja meg a fenti tulajdonságokat határozza meg, az állapot műveletet végrehajtani.</span><span class="sxs-lookup"><span data-stu-id="7a192-173">The values you specify for the above properties determines the state operation performed.</span></span>

### <a name="existence"></a><span data-ttu-id="7a192-174">Létezik-e</span><span class="sxs-lookup"><span data-stu-id="7a192-174">Existence</span></span>

<span data-ttu-id="7a192-175">Csak megadása egy `DestinationPath`, az erőforrás biztosítja, hogy létezik-e az elérési út (`Present`) vagy nem létezik (`Absent`).</span><span class="sxs-lookup"><span data-stu-id="7a192-175">When you only specify a `DestinationPath`, the resource ensures that the path exists (`Present`) or does not exist (`Absent`).</span></span>

### <a name="copy-operations"></a><span data-ttu-id="7a192-176">Másolási műveletek</span><span class="sxs-lookup"><span data-stu-id="7a192-176">Copy Operations</span></span>

<span data-ttu-id="7a192-177">Beállítás megadása egy `SourcePath` és a egy `DestinationPath` együtt egy `Type` értékét **Directory**, az erőforrás-másolatok forrás elérési utat a könyvtár.</span><span class="sxs-lookup"><span data-stu-id="7a192-177">When you specify a `SourcePath` and a `DestinationPath` with a `Type` value of **Directory**, the resource copies source directory to the destination path.</span></span> <span data-ttu-id="7a192-178">A Tulajdonságok `Recurse`, `Force`, és `MatchSource` másolási művelet típusának módosítása hajtja végre, miközben `Credential` határozza meg, melyik fiókot szeretné használni a forrás-könyvtár eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="7a192-178">The properties `Recurse`, `Force`, and `MatchSource` change the type of copy operation performed, while `Credential` determines which account to use to access the source directory.</span></span>

### <a name="limitations"></a><span data-ttu-id="7a192-179">Korlátozások</span><span class="sxs-lookup"><span data-stu-id="7a192-179">Limitations</span></span>

<span data-ttu-id="7a192-180">Ha a megadott érték `ReadOnly` a a `Attributes` tulajdonság mellett egy `DestinationPath`, `Ensure = "Present"` kell létrehoznia az elérési útvonal, közben `Contents` állíthatja be a fájl tartalmát.</span><span class="sxs-lookup"><span data-stu-id="7a192-180">If you specified a value of `ReadOnly` for the `Attributes` property alongside a `DestinationPath`, `Ensure = "Present"` would create the path specified, while `Contents` would set the contents of the file.</span></span>  <span data-ttu-id="7a192-181">Egy `Absent` állapotbetöltési művelet lenne figyelmen kívül a `Attributes` tulajdonság teljesen, és távolítsa el minden olyan fájlt a megadott elérési úton.</span><span class="sxs-lookup"><span data-stu-id="7a192-181">An `Absent` state operation would ignore the `Attributes` property entirely, and remove any file at the specified path.</span></span>

## <a name="example"></a><span data-ttu-id="7a192-182">Példa</span><span class="sxs-lookup"><span data-stu-id="7a192-182">Example</span></span>

<span data-ttu-id="7a192-183">Az alábbi példa másol egy könyvtárat és annak almappáiba egy lekéréses kiszolgálót egy célcsomóponttal a fájl erőforrás használatával.</span><span class="sxs-lookup"><span data-stu-id="7a192-183">The following example copies a directory and its subdirectories from a pull server to a target node using the File Resource.</span></span> <span data-ttu-id="7a192-184">Ha a művelet sikeres, a Log erőforrás egy megerősítő üzenetet ír az eseménynaplóba.</span><span class="sxs-lookup"><span data-stu-id="7a192-184">If the operation succeeds, the Log resource writes a confirmation message to the event log.</span></span>

<span data-ttu-id="7a192-185">A forráskönyvtár egy UNC elérési út (`\\PullServer\DemoSource`) megosztott a lekérési kiszolgálóról.</span><span class="sxs-lookup"><span data-stu-id="7a192-185">The source directory is a UNC path (`\\PullServer\DemoSource`) shared from the Pull Server.</span></span> <span data-ttu-id="7a192-186">A `Recurse` tulajdonság biztosítja, hogy minden alkönyvtár másolása is megtörténik.</span><span class="sxs-lookup"><span data-stu-id="7a192-186">The `Recurse` property ensures that all subdirectories are copied as well.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7a192-187">Az LCM Konfigurálása a célként megadott csomópontban alapértelmezés szerint a helyi rendszerfiók környezetében hajtja végre.</span><span class="sxs-lookup"><span data-stu-id="7a192-187">The LCM on the target Node executes in the context of the local system account by default.</span></span> <span data-ttu-id="7a192-188">Hozzáférést kell biztosítani a **SourcePath**, adjon a célcsomópont számítógép fiókja megfelelő engedélyekkel.</span><span class="sxs-lookup"><span data-stu-id="7a192-188">To grant access to the **SourcePath**, give the target Node's computer account appropriate permissions.</span></span> <span data-ttu-id="7a192-189">A **Credential** és **PSDSCRunAsCredential** (v5) is módosíthatja a összefüggésben LCM a által használt eléréséhez a **SourcePath**.</span><span class="sxs-lookup"><span data-stu-id="7a192-189">The **Credential** and **PSDSCRunAsCredential** (v5) both change the context the LCM uses to access the **SourcePath**.</span></span> <span data-ttu-id="7a192-190">Önnek kell elvégeznie a fiókhoz használandó a hozzáférést a hozzáférést a **SourcePath**.</span><span class="sxs-lookup"><span data-stu-id="7a192-190">You still need to grant access to the account that will be used to access the **SourcePath**.</span></span>

```powershell
Configuration FileResourceDemo
{
    Node "localhost"
    {
        File DirectoryCopy
        {
            Ensure = "Present" # Ensure the directory is Present on the target node.
            Type = "Directory" # The default is File.
            Recurse = $true # Recursively copy all subdirectories.
            SourcePath = "\\PullServer\DemoSource"
            DestinationPath = "C:\Users\Public\Documents\DSCDemo\DemoDestination"
        }

        Log AfterDirectoryCopy
        {
            # The message below gets written to the Microsoft-Windows-Desired State Configuration/Analytic log
            Message = "Finished running the file resource with ID DirectoryCopy"
            DependsOn = "[File]DirectoryCopy" # Depends on successful execution of the File resource.
        }
    }
}
```

<span data-ttu-id="7a192-191">További on használatára vonatkozó **hitelesítő adatok** DSC itt talál: [futtatása felhasználóként](../../../configurations/runAsUser.md) vagy [Config tartozó hitelesítő adatok](../../../configurations/configDataCredentials.md).</span><span class="sxs-lookup"><span data-stu-id="7a192-191">For more on using **Credentials** in DSC see [Run As User](../../../configurations/runAsUser.md) or [Config Data Credentials](../../../configurations/configDataCredentials.md).</span></span>
