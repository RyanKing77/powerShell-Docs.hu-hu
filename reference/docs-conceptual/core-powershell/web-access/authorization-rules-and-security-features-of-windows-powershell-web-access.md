---
ms.date: 2017-06-27
keywords: PowerShell parancsmag
title: "A Webes Windows PowerShell-elérés engedélyezési szabályai és biztonsági funkciói"
ms.openlocfilehash: 19e4aa1bb55178ec2634af0771afe2db5db3423c
ms.sourcegitcommit: 99227f62dcf827354770eb2c3e95c5cf6a3118b4
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/15/2018
---
# <a name="authorization-rules-and-security-features-of-windows-powershell-web-access"></a><span data-ttu-id="773fe-103">A Webes Windows PowerShell-elérés engedélyezési szabályai és biztonsági funkciói</span><span class="sxs-lookup"><span data-stu-id="773fe-103">Authorization Rules and Security Features of Windows PowerShell Web Access</span></span>

<span data-ttu-id="773fe-104">Frissített: Június 24 2013.</span><span class="sxs-lookup"><span data-stu-id="773fe-104">Updated: June 24, 2013</span></span>

<span data-ttu-id="773fe-105">Vonatkozik: Windows Server 2012 R2, Windows Server 2012-ben</span><span class="sxs-lookup"><span data-stu-id="773fe-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

<span data-ttu-id="773fe-106">A Windows Server 2012 R2 és Windows Server 2012 a Windows PowerShell Web Access korlátozó biztonsági modellel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="773fe-106">Windows PowerShell Web Access in Windows Server 2012 R2 and Windows Server 2012 has a restrictive security model.</span></span>
<span data-ttu-id="773fe-107">Felhasználók kifejezetten hozzáférést kell rendelni ahhoz, hogy jelentkezzen be a Windows PowerShell Web Access-átjáró és a webes Windows PowerShell-konzolt használja.</span><span class="sxs-lookup"><span data-stu-id="773fe-107">Users must explicitly be granted access before they can sign in to the Windows PowerShell Web Access gateway and use the web-based Windows PowerShell console.</span></span>

## <a name="configuring-authorization-rules-and-site-security"></a><span data-ttu-id="773fe-108">Az engedélyezési szabályok és a hely biztonságának konfigurálása</span><span class="sxs-lookup"><span data-stu-id="773fe-108">Configuring authorization rules and site security</span></span>

<span data-ttu-id="773fe-109">Miután a Windows PowerShell Web Access telepítve van, és az átjáró, felhasználó meg tudja nyitni a böngészőben a bejelentkezési oldal, de azok nem tud bejelentkezni, amíg a Windows PowerShell Web Access rendszergazdai hozzáférést biztosít a felhasználónak explicit módon.</span><span class="sxs-lookup"><span data-stu-id="773fe-109">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span>
<span data-ttu-id="773fe-110">"A Windows PowerShell Web Access" hozzáférés-vezérlés a következő táblázat ismerteti a Windows PowerShell-parancsmagok használatával kezeli.</span><span class="sxs-lookup"><span data-stu-id="773fe-110">'Windows PowerShell Web Access' access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span>
<span data-ttu-id="773fe-111">Engedélyezési szabályok hozzáadásához és kezeléséhez nincs hasonló grafikus felhasználói felület.</span><span class="sxs-lookup"><span data-stu-id="773fe-111">There is no comparable GUI for adding or managing authorization rules.</span></span>
<span data-ttu-id="773fe-112">Lásd: [Windows PowerShell Web Access parancsmagok](cmdlets/web-access-cmdlets.md).</span><span class="sxs-lookup"><span data-stu-id="773fe-112">See [Windows PowerShell Web Access Cmdlets](cmdlets/web-access-cmdlets.md).</span></span>

<span data-ttu-id="773fe-113">Rendszergazdák meghatározhatnak 0 -*n* hitelesítési szabályokat Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="773fe-113">Administrators can define 0-*n* authentication rules for Windows PowerShell Web Access.</span></span>
<span data-ttu-id="773fe-114">Az alapértelmezett biztonság inkább korlátozóak, nem pedig engedélyezők; a nulla hitelesítési szabály azt jelenti, hogy egyetlen felhasználó sem férhet hozzá semmihez.</span><span class="sxs-lookup"><span data-stu-id="773fe-114">The default security is restrictive rather than permissive; zero authentication rules means no users have access to anything.</span></span>

<span data-ttu-id="773fe-115">[Add-PswaAuthorizationRule](cmdlets/add-pswaauthorizationrule.md) és [Test-PswaAuthorizationRule](cmdlets/test-pswaauthorizationrule.md) a Windows Server 2012 R2 tartalmaznak egy Credential paramétert, amely lehetővé teszi a történő hozzáadását és tesztelését egy távoli Windows PowerShell Web Access engedélyezési szabályok számítógép, vagy egy aktív Windows PowerShell Web Access-munkameneten belül.</span><span class="sxs-lookup"><span data-stu-id="773fe-115">[Add-PswaAuthorizationRule](cmdlets/add-pswaauthorizationrule.md) and [Test-PswaAuthorizationRule](cmdlets/test-pswaauthorizationrule.md) in Windows Server 2012 R2 include a Credential parameter that allows you to add and test Windows PowerShell Web Access authorization rules from a remote computer, or from within an active Windows PowerShell Web Access session.</span></span>
<span data-ttu-id="773fe-116">Mint a többi Windows PowerShell-parancsmaggal, amelyek tartalmaznak egy Credential paramétert is megadhat egy PSCredential objektumot a paraméter értékeként.</span><span class="sxs-lookup"><span data-stu-id="773fe-116">As with other Windows PowerShell cmdlets that have a Credential parameter, you can specify a PSCredential object as the value of the parameter.</span></span>
<span data-ttu-id="773fe-117">A távoli számítógépnek átadni kívánt hitelesítő adatokat tartalmazó PSCredential objektum létrehozásához futtassa a [Get-Credential](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.security/Get-Credential) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="773fe-117">To create a PSCredential object that contains credentials you want to pass to a remote computer, run the [Get-Credential](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.security/Get-Credential) cmdlet.</span></span>

<span data-ttu-id="773fe-118">A Windows PowerShell Web Access hitelesítési szabályai engedélyezett szabályok vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="773fe-118">Windows PowerShell Web Access authentication rules are whitelist rules.</span></span>
<span data-ttu-id="773fe-119">Minden egyes szabály a felhasználók, számítógépek és az adott Windows PowerShellÂ között engedélyezett kapcsolat definíciója [munkamenet-konfigurációk](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/about/about_session_configurations) (más néven végpontok vagy _futási terek_) a a megadott célszámítógépeken.</span><span class="sxs-lookup"><span data-stu-id="773fe-119">Each rule is a definition of an allowed connection between users, target computers, and particular Windows PowerShellÂ [session configurations](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/about/about_session_configurations) (also referred to as endpoints or _runspaces_) on specified target computers.</span></span>
<span data-ttu-id="773fe-120">Az előzetesben **futási terek** lásd [PowerShell futtatóterek használata kezdete](https://blogs.technet.microsoft.com/heyscriptingguy/2015/11/26/beginning-use-of-powershell-runspaces-part-1/)</span><span class="sxs-lookup"><span data-stu-id="773fe-120">For an explanation on **runspaces** see [Beginning Use of PowerShell Runspaces](https://blogs.technet.microsoft.com/heyscriptingguy/2015/11/26/beginning-use-of-powershell-runspaces-part-1/)</span></span>

> <span data-ttu-id="773fe-121">**Biztonsági Megjegyzés**</span><span class="sxs-lookup"><span data-stu-id="773fe-121">**Security Note**</span></span>
>
> <span data-ttu-id="773fe-122">A felhasználónak csak egy érvényes szabályra van szüksége a hozzáférés megszerzéséhez.</span><span class="sxs-lookup"><span data-stu-id="773fe-122">A user needs only one rule to be true to get access.</span></span>
<span data-ttu-id="773fe-123">Ha a felhasználó kap hozzáférést egy számítógéphez teljes nyelvi hozzáféréssel vagy csak a Windows PowerShell-parancsmagok távoli felügyelet, a hozzáférés a webalapú konzolról a felhasználó jelentkezzen be (vagy átugorhat) más számítógépekre, amelyek az első célszámítógéphez csatlakoznak.</span><span class="sxs-lookup"><span data-stu-id="773fe-123">If a user is given access to one computer with either full language access or access only to Windows PowerShell remote management cmdlets, from the web-based console, the user can log on (or hop) to other computers that are connected to the first target computer.</span></span>
<span data-ttu-id="773fe-124">A legbiztonságosabb konfigurálása a Windows PowerShell Web Access módja csak korlátozott munkamenet-konfigurációkat, amelyek lehetővé teszik, hogy szokásos módon kell végrehajtani távolról konkrét feladatok elvégzését való felhasználói hozzáférést lehetővé.</span><span class="sxs-lookup"><span data-stu-id="773fe-124">The most secure way to configure Windows PowerShell Web Access is to allow users access only to constrained session configurations that allow them to accomplish specific tasks that they normally need to perform remotely.</span></span>

<span data-ttu-id="773fe-125">A hivatkozott parancsmagok [Windows PowerShell Web Access parancsmagok](cmdlets/web-access-cmdlets.md) lehetővé teszi a Windows PowerShell Web Access-átjárón a felhasználó hitelesítéséhez használt hozzáférési szabályok hozzon létre.</span><span class="sxs-lookup"><span data-stu-id="773fe-125">The cmdlets referenced in [Windows PowerShell Web Access Cmdlets](cmdlets/web-access-cmdlets.md) allow to create a set of access rules which are used to authorize a user on the Windows PowerShell Web Access gateway.</span></span>
<span data-ttu-id="773fe-126">A szabályok eltérnek a célszámítógépen található hozzáférés-vezérlési listáktól (ACL), és további biztonsági réteget biztosítanak a webes eléréshez.</span><span class="sxs-lookup"><span data-stu-id="773fe-126">The rules are different from the access control lists (ACLs) on the destination computer, and provide an additional layer of security for web access.</span></span>
<span data-ttu-id="773fe-127">A biztonsággal kapcsolatos további részleteket a következő szakasz tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="773fe-127">More details about security are described in the following section.</span></span>

<span data-ttu-id="773fe-128">Ha a felhasználók nem adható át az előző biztonsági rétegek bármelyikét, egy általános "hozzáférés megtagadva" üzenet megérkezése böngészőjük ablakában.</span><span class="sxs-lookup"><span data-stu-id="773fe-128">If users cannot pass any of the preceding security layers, they receive a generic 'access denied' message in their browser windows.</span></span>
<span data-ttu-id="773fe-129">Habár az átjáró-kiszolgáló naplózza a biztonsági adatokat, a végfelhasználóknak nem jelenik meg információ arról, hogy hány biztonsági rétegnek feleltek meg, illetve melyik rétegnél nem sikerült a bejelentkezés vagy a hitelesítés.</span><span class="sxs-lookup"><span data-stu-id="773fe-129">Although security details are logged on the gateway server, end users are not shown information about how many security layers they passed, or at which layer the sign-in or authentication failure occurred.</span></span>

<span data-ttu-id="773fe-130">Az engedélyezési szabályok konfigurálásával kapcsolatos további információkért lásd: [engedélyezési szabályok konfigurálásával](#configuring-authorization-rules-and-site-security) ebben a témakörben.</span><span class="sxs-lookup"><span data-stu-id="773fe-130">For more information about configuring authorization rules, see [configuring authorization rules](#configuring-authorization-rules-and-site-security) in this topic.</span></span>

### <a name="security"></a><span data-ttu-id="773fe-131">Biztonság</span><span class="sxs-lookup"><span data-stu-id="773fe-131">Security</span></span>

<span data-ttu-id="773fe-132">A Windows PowerShell Web Access biztonsági modellje négy réteget egy end user a webalapú konzol, és a célszámítógép között.</span><span class="sxs-lookup"><span data-stu-id="773fe-132">The Windows PowerShell Web Access security model has four layers between an end user of the web-based console, and a target computer.</span></span>
<span data-ttu-id="773fe-133">Windows PowerShell Web Access-rendszergazdák az IIS-kezelő konzolon kiegészítő konfigurálással további biztonsági rétegeket adhat hozzá.</span><span class="sxs-lookup"><span data-stu-id="773fe-133">Windows PowerShell Web Access administrators can add security layers through additional configuration in the IIS Manager console.</span></span>
<span data-ttu-id="773fe-134">Az IIS-kezelő konzolon webhelyek biztonságossá tétele kapcsolatos további információkért lásd: [webkiszolgáló biztonságának konfigurálása (IIS 7)](https://technet.microsoft.com/library/cc731278).</span><span class="sxs-lookup"><span data-stu-id="773fe-134">For more information about securing websites in the IIS Manager console, see [Configure Web Server Security (IIS 7)](https://technet.microsoft.com/library/cc731278).</span></span>
<span data-ttu-id="773fe-135">További információ az IIS ajánlott eljárások és -szolgáltatásmegtagadási támadások megelőzése, lásd: [gyakorlati tanácsok a megakadályozza a DoS/szolgáltatásmegtagadási támadások](https://technet.microsoft.com/library/cc750213).</span><span class="sxs-lookup"><span data-stu-id="773fe-135">For more information about IIS best practices and preventing denial-of-service attacks, see [Best Practices for Preventing DoS/Denial of Service Attacks](https://technet.microsoft.com/library/cc750213).</span></span>
<span data-ttu-id="773fe-136">A rendszergazda is vásárolhat és további kereskedelmi hitelesítési szoftvereket telepíteni.</span><span class="sxs-lookup"><span data-stu-id="773fe-136">An administrator can also buy and install additional retail authentication software.</span></span>

<span data-ttu-id="773fe-137">Az alábbi táblázat a végfelhasználók és a célszámítógépek között lévő négy biztonsági réteget ismerteti.</span><span class="sxs-lookup"><span data-stu-id="773fe-137">The following table describes the four layers of security between end users and target computers.</span></span>

|<span data-ttu-id="773fe-138">Szint</span><span class="sxs-lookup"><span data-stu-id="773fe-138">Level</span></span>|<span data-ttu-id="773fe-139">Réteg</span><span class="sxs-lookup"><span data-stu-id="773fe-139">Layer</span></span>|
|-|-|
|<span data-ttu-id="773fe-140">1</span><span class="sxs-lookup"><span data-stu-id="773fe-140">1</span></span>|[<span data-ttu-id="773fe-141">az IIS webkiszolgáló biztonsági szolgáltatásainak</span><span class="sxs-lookup"><span data-stu-id="773fe-141">iis web server security features</span></span>](#iis-web-server-security-features)|
|<span data-ttu-id="773fe-142">2</span><span class="sxs-lookup"><span data-stu-id="773fe-142">2</span></span>|[<span data-ttu-id="773fe-143">a Windows powershell web access űrlapalapú átjáró hitelesítés</span><span class="sxs-lookup"><span data-stu-id="773fe-143">windows powershell web access forms-based gateway authentication</span></span>](#windows-powershell-web-access-forms-based-gateway-authentication)|
|<span data-ttu-id="773fe-144">3</span><span class="sxs-lookup"><span data-stu-id="773fe-144">3</span></span>|[<span data-ttu-id="773fe-145">a Windows powershell web access engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="773fe-145">windows powershell web access authorization rules</span></span>](#windows-powershell-web-access-authorization-rules)|
|<span data-ttu-id="773fe-146">4</span><span class="sxs-lookup"><span data-stu-id="773fe-146">4</span></span>|[<span data-ttu-id="773fe-147">cél hitelesítési és engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="773fe-147">target authentication and authorization rules</span></span>](#target-authentication-and-authorization-rules)|

<span data-ttu-id="773fe-148">Minden egyes réteg kapcsolatos részletes információk a következő címszó alatt található:</span><span class="sxs-lookup"><span data-stu-id="773fe-148">Detailed information about each layer can be found under the following headings:</span></span>

#### <a name="iis-web-server-security-features"></a><span data-ttu-id="773fe-149">IIS-webkiszolgáló biztonsági funkciói</span><span class="sxs-lookup"><span data-stu-id="773fe-149">IIS Web Server security features</span></span>

<span data-ttu-id="773fe-150">A Windows PowerShell Web Access felhasználók mindig meg kell adniuk a felhasználónevet és jelszót a fiókjuk átjárón hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="773fe-150">Windows PowerShell Web Access users must always provide a user name and password to authenticate their accounts on the gateway.</span></span>
<span data-ttu-id="773fe-151">Azonban a Windows PowerShell Web Access rendszergazdák is kapcsolhatja választható ügyféltanúsítvány-alapú hitelesítés be- és kikapcsolása, lásd: [telepítheti és használhatja a windows powershell web access](install-and-use-windows-powershell-web-access.md) teszttanúsítványt engedélyezése és újabb verziók, konfigurálása a eredeti tanúsítvánnyal).</span><span class="sxs-lookup"><span data-stu-id="773fe-151">However, Windows PowerShell Web Access administrators can also turn optional client certificate authentication on or off, see [install and use windows powershell web access](install-and-use-windows-powershell-web-access.md) to enable a test certificate and, later, how to configure a genuine certificate).</span></span>

<span data-ttu-id="773fe-152">A választható ügyféltanúsítvány-alapú szolgáltatás megköveteli, hogy a végfelhasználók felhasználónevükön és jelszavukon kívül érvényes ügyféltanúsítvánnyal rendelkezzenek, ami a webkiszolgáló (IIS) konfigurációjának részét képezi.</span><span class="sxs-lookup"><span data-stu-id="773fe-152">The optional client certificate feature requires end users to have a valid client certificate, in addition to their user names and passwords, and is part of Web Server (IIS) configuration.</span></span>
<span data-ttu-id="773fe-153">Ha az ügyféltanúsítvány rétege engedélyezve van, a Windows PowerShell Web Access bejelentkezési oldal kéri a felhasználóktól, érvényes tanúsítványok megadását, mielőtt a bejelentkezési hitelesítő adataikat.</span><span class="sxs-lookup"><span data-stu-id="773fe-153">When the client certificate layer is enabled, the Windows PowerShell Web Access sign-in page prompts users to provide valid certificates before their sign-in credentials are evaluated.</span></span>
<span data-ttu-id="773fe-154">Ügyféltanúsítvány-alapú hitelesítés automatikusan ellenőrzi az ügyfél tanúsítványát.</span><span class="sxs-lookup"><span data-stu-id="773fe-154">Client certificate authentication automatically checks for the client certificate.</span></span>
<span data-ttu-id="773fe-155">Ha nem található érvényes tanúsítvány, akkor a Windows PowerShell Web Access mindig tájékoztatnia a felhasználókat, így azok megadhatják a tanúsítványt.</span><span class="sxs-lookup"><span data-stu-id="773fe-155">If a valid certificate is not found, Windows PowerShell Web Access informs users, so they can provide the certificate.</span></span>
<span data-ttu-id="773fe-156">Ha egy érvényes ügyféltanúsítványt talál, a Windows PowerShell Web Access megnyitja a bejelentkezési oldalt a felhasználók számára a felhasználói neveket és jelszavakat adjon meg.</span><span class="sxs-lookup"><span data-stu-id="773fe-156">If a valid client certificate is found, Windows PowerShell Web Access opens the sign-in page for users to provide their user names and passwords.</span></span>

<span data-ttu-id="773fe-157">Itt látható egy példa az IIS webkiszolgáló által felkínált kiegészítő biztonsági beállításokra.</span><span class="sxs-lookup"><span data-stu-id="773fe-157">This is one example of additional security settings that are offered by IIS Web Server.</span></span>
<span data-ttu-id="773fe-158">Egyéb IIS biztonsági funkciókkal kapcsolatos további információkért lásd: [webkiszolgáló biztonságának konfigurálása (IIS 7)](https://technet.microsoft.com/library/cc731278)</span><span class="sxs-lookup"><span data-stu-id="773fe-158">For more information about other IIS security features, see [Configure Web Server Security (IIS 7)](https://technet.microsoft.com/library/cc731278)</span></span>

#### <a name="windows-powershell-web-access-forms-based-gateway-authentication"></a><span data-ttu-id="773fe-159">A Windows PowerShell Web Access űrlapalapú átjáró hitelesítése</span><span class="sxs-lookup"><span data-stu-id="773fe-159">Windows PowerShell Web Access forms-based gateway authentication</span></span>

<span data-ttu-id="773fe-160">A Windows PowerShell Web Access bejelentkezési oldal (felhasználónév és jelszó) hitelesítő adatokat igényel, és lehetővé teszi a felhasználók eltérő hitelesítő adatokat adjanak a célszámítógépen.</span><span class="sxs-lookup"><span data-stu-id="773fe-160">The Windows PowerShell Web Access sign-in page requires a set of credentials (user name and password) and offers users the option of providing different credentials for the target computer.</span></span>
<span data-ttu-id="773fe-161">Ha a felhasználó nem ad meg más hitelesítő adatokat, az átjáróhoz való csatlakozáshoz használt elsődleges felhasználónév és jelszó használható a célszámítógéphez való csatlakozáshoz is.</span><span class="sxs-lookup"><span data-stu-id="773fe-161">If the user does not provide alternate credentials, the primary user name and password that are used to connect to the gateway are also used to connect to the target computer.</span></span>

<span data-ttu-id="773fe-162">A szükséges hitelesítő adatok hitelesítése a Windows PowerShell Web Access-átjárón.</span><span class="sxs-lookup"><span data-stu-id="773fe-162">The required credentials are authenticated on the Windows PowerShell Web Access gateway.</span></span>
<span data-ttu-id="773fe-163">Ezeket a hitelesítő adatokat kell érvényes felhasználói fiókkal vagy a helyi Windows PowerShell Web Access átjárókiszolgálón, vagy az Active Directoryban.</span><span class="sxs-lookup"><span data-stu-id="773fe-163">These credentials must be valid user accounts on either the local Windows PowerShell Web Access gateway server, or in Active Directory.</span></span>

#### <a name="windows-powershell-web-access-authorization-rules"></a><span data-ttu-id="773fe-164">A Windows PowerShell Web Access engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="773fe-164">Windows PowerShell Web Access authorization rules</span></span>

<span data-ttu-id="773fe-165">A felhasználó hitelesítése az átjárón, a Windows PowerShell Web Access ellenőrzi engedélyezési szabályokat, hogy ellenőrizze, hogy a felhasználó rendelkezik-e a hozzáférést a kért célszámítógéphez.</span><span class="sxs-lookup"><span data-stu-id="773fe-165">After a user is authenticated at the gateway, Windows PowerShell Web Access checks authorization rules to verify if the user has access to the requested target computer.</span></span>
<span data-ttu-id="773fe-166">Sikeres hitelesítést követően a felhasználó hitelesítő adatai továbbítódnak a célszámítógépre.</span><span class="sxs-lookup"><span data-stu-id="773fe-166">After successful authorization, the user's credentials are passed along to the target computer.</span></span>

<span data-ttu-id="773fe-167">A rendszer a szabályok értékelését csak a felhasználó átjáró által történt hitelesítése után, és a felhasználó célszámítógépen történő hitelesítése előtt végzi el.</span><span class="sxs-lookup"><span data-stu-id="773fe-167">These rules are evaluated only after a user has been authenticated by the gateway, and before a user can be authenticated on a target computer.</span></span>

#### <a name="target-authentication-and-authorization-rules"></a><span data-ttu-id="773fe-168">Cél hitelesítési és engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="773fe-168">Target authentication and authorization rules</span></span>

<span data-ttu-id="773fe-169">A Windows PowerShell Web Access biztonságának végső rétegét a célként megadott számítógép saját biztonsági konfigurációja.</span><span class="sxs-lookup"><span data-stu-id="773fe-169">The final layer of security for Windows PowerShell Web Access is the target computer's own security configuration.</span></span>
<span data-ttu-id="773fe-170">Felhasználónak rendelkeznie kell egy Windows PowerShell webalapú konzol, amely befolyásolja a célszámítógépet a Windows PowerShell Web Access futtatásához megfelelő hozzáférési jogosultságokkal a cél számítógépen, valamint a Windows PowerShell Web Access-engedélyezési szabályok konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="773fe-170">Users must have the appropriate access rights configured on the target computer, and also in the Windows PowerShell Web Access authorization rules, to run a Windows PowerShell web-based console that affects a target computer through Windows PowerShell Web Access.</span></span>

<span data-ttu-id="773fe-171">Ez a réteg ugyanazt a biztonsági mechanizmust, amely a csatlakozási próbálkozásokat értékelné ki, ha a felhasználók megpróbálnának létrehozni egy távoli Windows PowerShell-munkamenetet a célszámítógéphez, a Windows PowerShell belül futó kínálja a [Enter-PSSession](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/Enter-PSSession) vagy [New-PSSession](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/new-pssession) parancsmagok.</span><span class="sxs-lookup"><span data-stu-id="773fe-171">This layer offers the same security mechanisms that would evaluate connection attempts if users tried to create a remote Windows PowerShell session to a target computer from within Windows PowerShell by running the [Enter-PSSession](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/Enter-PSSession) or [New-PSSession](https://msdn.microsoft.com/powershell/reference/5.1/microsoft.powershell.core/new-pssession) cmdlets.</span></span>

<span data-ttu-id="773fe-172">Alapértelmezés szerint a, az átjáró és a célszámítógép a Windows PowerShell Web Access használ az elsődleges felhasználónév és jelszó.</span><span class="sxs-lookup"><span data-stu-id="773fe-172">By default, Windows PowerShell Web Access uses the primary user name and password for authentication on both the gateway and the target computer.</span></span>
<span data-ttu-id="773fe-173">A webalapú bejelentkezési oldal, című **választható csatlakozási beállítások**, lehetővé teszi a felhasználók eltérő hitelesítő adatokat adjanak a célszámítógép, amennyiben azok szükségesek.</span><span class="sxs-lookup"><span data-stu-id="773fe-173">The web-based sign-in page , in a section titled **Optional connection settings**, offers users the option of providing different credentials for the target computer , if they are required.</span></span>
<span data-ttu-id="773fe-174">Ha a felhasználó nem ad meg más hitelesítő adatokat, az elsődleges felhasználó neve és az átjáró való csatlakozáshoz használt jelszót is használhatók a célszámítógéphez kapcsolódni.</span><span class="sxs-lookup"><span data-stu-id="773fe-174">If the user does not provide alternate credentials , the primary user name and password that are used to connect to the gateway are also used to connect to the target computer.</span></span>

<span data-ttu-id="773fe-175">Az engedélyezési szabályok segítségével engedélyezhető a felhasználók számára, hogy hozzáférjenek egy adott munkamenet-konfigurációhoz.</span><span class="sxs-lookup"><span data-stu-id="773fe-175">Authorization rules can be used to allow users access to a particular session configuration.</span></span>
<span data-ttu-id="773fe-176">Létrehozhat _korlátozott futási terekben engedélyezze_ vagy munkamenet-konfigurációk Windows PowerShell Web Access, és meghatározott felhasználók csak a meghatározott munkamenet-konfigurációk csatlakozni, amikor bejelentkeznek a Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="773fe-176">You can create _restricted runspaces_ or session configurations for Windows PowerShell Web Access , and allow specific users to connect only to specific session configurations when they sign in to Windows PowerShell Web Access.</span></span>
<span data-ttu-id="773fe-177">Hozzáférés-vezérlési listák (ACL) segítségével határozza meg, mely felhasználók férhessenek hozzá a meghatározott végpontokhoz, és további való hozzáférés korlátozása a felhasználók adott csoportja számára a végpont ebben a szakaszban ismertetett engedélyezési szabályok segítségével.</span><span class="sxs-lookup"><span data-stu-id="773fe-177">You can use access control lists (ACLs) to determine which users have access to specific endpoints , and further restrict access to the endpoint for a specific set of users by using authorization rules described in this section.</span></span>
<span data-ttu-id="773fe-178">Korlátozott futtatóterek kapcsolatos további információkért lásd: [létrehozása egy korlátozott futási térrel](https://msdn.microsoft.com/en-us/library/dn614668).</span><span class="sxs-lookup"><span data-stu-id="773fe-178">For more information about restricted runspaces, see [Creating a constrained runspace](https://msdn.microsoft.com/en-us/library/dn614668).</span></span>

### <a name="configuring-authorization-rules"></a><span data-ttu-id="773fe-179">Az engedélyezési szabályok konfigurálása</span><span class="sxs-lookup"><span data-stu-id="773fe-179">Configuring authorization rules</span></span>

<span data-ttu-id="773fe-180">Rendszergazdák valószínűleg az azonos engedélyezési szabály szeretné, hogy a Windows PowerShell Web Access felhasználók számára, amely a Windows PowerShell távoli kezelési környezetükben már definiálva van.</span><span class="sxs-lookup"><span data-stu-id="773fe-180">Administrators likely want the same authorization rule for Windows PowerShell Web Access users that is already defined in their environment for Windows PowerShell remote management.</span></span>
<span data-ttu-id="773fe-181">Ebben a szakaszban az első eljárás ismerteti egy olyan engedélyezési szabály, amely hozzáférést biztosít egy felhasználó bejelentkezik egy számítógépet kezelhet, és egy egyetlen munkamenet-konfiguráció belül adja hozzá.</span><span class="sxs-lookup"><span data-stu-id="773fe-181">The first procedure in this section describes how to add a secure authorization rule that grants access to one user , signing in to manage one computer , and within a single session configuration.</span></span>
<span data-ttu-id="773fe-182">A második eljárás egy olyan engedélyezési szabály eltávolítását ismerteti, amelyre már nincs szükség.</span><span class="sxs-lookup"><span data-stu-id="773fe-182">The second procedure describes how to remove an authorization rule that is no longer needed.</span></span>

<span data-ttu-id="773fe-183">Ha tervezi olyan egyéni munkamenet-konfigurációk használatával meghatározott felhasználók számára csak a Windows PowerShell Web Access korlátozott futtatóterek belül működik, a rájuk hivatkozó engedélyezési szabályok hozzáadása előtt hozzon létre az egyéni munkamenet-konfigurációk.</span><span class="sxs-lookup"><span data-stu-id="773fe-183">If you plan to use custom session configurations to allow specific users to work only within restricted runspaces in Windows PowerShell Web Access , create your custom session configurations before you add authorization rules that refer to them.</span></span>
<span data-ttu-id="773fe-184">A Windows PowerShell Web Access parancsmagok nem hozhat létre egyéni munkamenet-konfigurációk.</span><span class="sxs-lookup"><span data-stu-id="773fe-184">You cannot use the Windows PowerShell Web Access cmdlets to create custom session configurations.</span></span>
<span data-ttu-id="773fe-185">Egyéni munkamenet-konfigurációk létrehozásával kapcsolatos további információkért lásd: [about_Session_Configuration_Files](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_session_configuration_files).</span><span class="sxs-lookup"><span data-stu-id="773fe-185">For more information about creating custom session configurations , see [about_Session_Configuration_Files](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_session_configuration_files).</span></span>

<span data-ttu-id="773fe-186">Windows PowerShell Web Access-parancsmagokat támogatja egy helyettesítő karaktert, a csillagot ( \* ).</span><span class="sxs-lookup"><span data-stu-id="773fe-186">Windows PowerShell Web Access cmdlets support one wildcard character , an asterisk ( \* ).</span></span>
<span data-ttu-id="773fe-187">A helyettesítő karakterek nem használhatók a karakterláncokon belül; tulajdonságonként (felhasználók, számítógépek vagy munkamenet-konfigurációk) egyetlen csillag használható.</span><span class="sxs-lookup"><span data-stu-id="773fe-187">Wildcard characters within strings are not supported; use a single asterisk per property (users, computers, or session configurations).</span></span>

> <span data-ttu-id="773fe-188">**Megjegyzés:**</span><span class="sxs-lookup"><span data-stu-id="773fe-188">**Note**</span></span>
>
> <span data-ttu-id="773fe-189">Az engedélyezési szabályok segítségével hozzáférés biztosítása a felhasználók és számítógépek biztonságossá tétele a Windows PowerShell Web Access környezet további részleteket lásd: [más engedélyezési szabály forgatókönyv példáit](#other-authorization-rule-scenario-examples) ebben a témakörben.</span><span class="sxs-lookup"><span data-stu-id="773fe-189">For more ways you can use authorization rules to grant access to users and help secure the Windows PowerShell Web Access environment , see [other authorization rule scenario examples](#other-authorization-rule-scenario-examples) in this topic.</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="773fe-190">Korlátozó engedélyezési szabály hozzáadása</span><span class="sxs-lookup"><span data-stu-id="773fe-190">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="773fe-191">Hajtsa végre az alábbi Windows PowerShell-munkamenetet emelt szintű felhasználói jogosultsággal nyissa meg.</span><span class="sxs-lookup"><span data-stu-id="773fe-191">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

    - <span data-ttu-id="773fe-192">A Windows asztalon kattintson a jobb gombbal **Windows PowerShell** a tálcán, és kattintson a **Futtatás rendszergazdaként**.</span><span class="sxs-lookup"><span data-stu-id="773fe-192">On the Windows desktop, right-click **Windows PowerShell** on the taskbar , and then click **Run as Administrator**.</span></span>

    - <span data-ttu-id="773fe-193">A Windows **Start** kattintson a jobb gombbal **Windows PowerShell** , és kattintson a **Futtatás rendszergazdaként**.</span><span class="sxs-lookup"><span data-stu-id="773fe-193">On the Windows **Start** screen, right-click **Windows PowerShell** , and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="773fe-194">**Nem kötelező lépés** felhasználói hozzáférés korlátozására munkamenet-konfigurációk használatával:</span><span class="sxs-lookup"><span data-stu-id="773fe-194">**Optional step** For restricting user access by using session configurations:</span></span>

    <span data-ttu-id="773fe-195">Győződjön meg arról, hogy a munkamenet-konfigurációk, szeretné használni, már léteznek a szabályokban.</span><span class="sxs-lookup"><span data-stu-id="773fe-195">Verify that the session configurations that you want to use , already exist in your rules .</span></span>
<span data-ttu-id="773fe-196">Azok rendelkezik még nem jött létre, ha a munkamenet-konfigurációk létrehozásához használja utasításokat [about_Session_Configuration_Files](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_session_configuration_files).</span><span class="sxs-lookup"><span data-stu-id="773fe-196">If they have not yet been created , use instructions for creating session configurations in [about_Session_Configuration_Files](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_session_configuration_files).</span></span>

3. <span data-ttu-id="773fe-197">Ez az engedélyezési szabály lehetővé teszi, hogy a számítógépek egy adott felhasználó hozzáférését a hálózaton, amelyhez általában hozzáférhetnek, egy adott munkamenet-konfiguráció, ami a felhasználó hozzáférést "™ s szokásos parancsfájl-kezelési és parancsmag igényeinek.</span><span class="sxs-lookup"><span data-stu-id="773fe-197">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'™s typical scripting and cmdlet needs.</span></span> <span data-ttu-id="773fe-198">Írja be a következőt, és nyomja le az **Enter**.</span><span class="sxs-lookup"><span data-stu-id="773fe-198">Type the following, and then press **Enter**.</span></span>

```powershell
Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>
```

  - <span data-ttu-id="773fe-199">A következő példában a felhasználó nevű _JSmith_ a a _Contoso_ tartományi hozzáférést kap a számítógép kezeléséhez _Contoso_214_, és egy munkamenet-konfiguráció használata _NewAdminsOnly_.</span><span class="sxs-lookup"><span data-stu-id="773fe-199">In the following example, a user named _JSmith_ in the _Contoso_ domain is granted access to manage the computer _Contoso_214_, and use a session configuration named _NewAdminsOnly_.</span></span>

```powershell
Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly
```

4. <span data-ttu-id="773fe-200">Győződjön meg arról, hogy létrejött-e a szabály futtatásával a **Get-PswaAuthorizationRule** parancsmagot, vagy **Test-PswaAuthorizationRule - UserName &lt;tartomány\\felhasználói |} számítógép\\ felhasználói&gt; - ComputerName** &lt;számítógép_neve&gt;.</span><span class="sxs-lookup"><span data-stu-id="773fe-200">Verify that the rule has been created by running either the **Get-PswaAuthorizationRule** cmdlet, or **Test-PswaAuthorizationRule -UserName &lt;domain\\user | computer\\user&gt; -ComputerName** &lt;computer_name&gt;.</span></span> <span data-ttu-id="773fe-201">Például **Test-PswaAuthorizationRule - UserName Contoso\\JSmith - ComputerName Contoso_214**.</span><span class="sxs-lookup"><span data-stu-id="773fe-201">For example, **Test-PswaAuthorizationRule -UserName Contoso\\JSmith -ComputerName Contoso_214**.</span></span>

#### <a name="to-remove-an-authorization-rule"></a><span data-ttu-id="773fe-202">Az engedélyezési szabály eltávolítása</span><span class="sxs-lookup"><span data-stu-id="773fe-202">To remove an authorization rule</span></span>

1. <span data-ttu-id="773fe-203">Ha egy Windows PowerShell-munkamenetben még nincs megnyitva, tekintse meg az 1. lépésében [korlátozó engedélyezési szabály hozzáadása](#to-add-a-restrictive-authorization-rule) ebben a szakaszban.</span><span class="sxs-lookup"><span data-stu-id="773fe-203">If a Windows PowerShell session is not already open, see step 1 of [to add a restrictive authorization rule](#to-add-a-restrictive-authorization-rule) in this section.</span></span>

2. <span data-ttu-id="773fe-204">Írja be a következőt, és nyomja le az **Enter**, ahol *szabályazonosító* eltávolítani kívánt szabály egyedi azonosító számot jelöli.</span><span class="sxs-lookup"><span data-stu-id="773fe-204">Type the following, and then press **Enter**, where *rule ID* represents the unique ID number of the rule that you want to remove.</span></span>

```powershell
Remove-PswaAuthorizationRule -ID <rule ID>
```

<span data-ttu-id="773fe-205">Azt is megteheti, ha nem ismeri a azonosítószámát, de tudja az eltávolítani kívánt szabály rövid nevét, a szabály nevét, és beállíthatja átadhatja azt a `Remove-PswaAuthorizationRule` parancsmagot, hogy a szabály eltávolításához az alábbi példában látható módon: `Get-PswaAuthorizationRule -RuleName <rule-name> | Remove-PswaAuthorizationRule`.</span><span class="sxs-lookup"><span data-stu-id="773fe-205">Alternatively, if you do not know the ID number, but know the friendly name of the rule you want to remove, you can get the name of the rule, and pipe it to the `Remove-PswaAuthorizationRule` cmdlet to remove the rule, as shown in the following example: `Get-PswaAuthorizationRule -RuleName <rule-name> | Remove-PswaAuthorizationRule`.</span></span>

><span data-ttu-id="773fe-206">**Megjegyzés:**:</span><span class="sxs-lookup"><span data-stu-id="773fe-206">**Note**:</span></span>
>
><span data-ttu-id="773fe-207">Nem kéri győződjön meg arról, hogy szeretné-e a megadott engedélyezési szabály; törlése a szabály törlődik, amikor lenyomja az **Enter**.</span><span class="sxs-lookup"><span data-stu-id="773fe-207">You are not prompted to confirm whether you want to delete the specified authorization rule; the rule is deleted when you press **Enter**.</span></span> <span data-ttu-id="773fe-208">A `Remove-PswaAuthorizationRule` parancsmagot csak akkor futtassa, ha biztosan el kívánja távolítani az engedélyezési szabályt.</span><span class="sxs-lookup"><span data-stu-id="773fe-208">Be sure that you want to remove the authorization rule before running the `Remove-PswaAuthorizationRule` cmdlet.</span></span>

#### <a name="other-authorization-rule-scenario-examples"></a><span data-ttu-id="773fe-209">Példák az engedélyezési szabály egyéb eltávolítási módjaira</span><span class="sxs-lookup"><span data-stu-id="773fe-209">Other authorization rule scenario examples</span></span>

<span data-ttu-id="773fe-210">Minden Windows PowerShell-munkamenetet használ a munkamenet-konfiguráció; Ha egy munkamenethez nincs megadva, a Windows PowerShell használja az alapértelmezett, beépített Windows PowerShell munkamenet-konfiguráció, neve Microsoft.PowerShell.</span><span class="sxs-lookup"><span data-stu-id="773fe-210">Every Windows PowerShell session uses a session configuration; if one is not specified for a session, Windows PowerShell uses the default, built-in Windows PowerShell session configuration, called Microsoft.PowerShell.</span></span> <span data-ttu-id="773fe-211">Az alapértelmezett munkamenet-konfiguráció a számítógépen elérhető összes parancsmagot tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="773fe-211">The default session configuration includes all cmdlets that are available on a computer.</span></span> <span data-ttu-id="773fe-212">A rendszergazdák egy korlátozott futási teret (a parancsmagok és a végfelhasználóik által végrehajtható feladatok korlátozott tartománya) tartalmazó munkamenet-konfiguráció definiálásával korlátozhatják az összes számítógéphez való hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="773fe-212">Administrators can restrict access to all computers by defining a session configuration with a restricted runspace (a limited range of cmdlets and tasks that their end users could perform).</span></span> <span data-ttu-id="773fe-213">Egy számítógép teljes nyelvi hozzáféréssel vagy csak a Windows PowerShell távfelügyeleti parancsmagjaihoz való hozzáféréssel rendelkező felhasználó az első számítógéphez csatlakoztatott más számítógépek is elérheti.</span><span class="sxs-lookup"><span data-stu-id="773fe-213">A user who is granted access to one computer with either full language access or only the Windows PowerShell remote management cmdlets can connect to other computers that are connected to the first computer.</span></span> <span data-ttu-id="773fe-214">Egy korlátozott futási térrel definiálása megakadályozhatja, hogy a felhasználók hozzáférhessenek más számítógépekhez az engedélyezett Windows PowerShell futási térben a, és javítja a Windows PowerShell Web Access-környezet biztonságát.</span><span class="sxs-lookup"><span data-stu-id="773fe-214">Defining a restricted runspace can prevent users from accessing other computers from their allowed Windows PowerShell runspace, and improves the security of your Windows PowerShell Web Access environment.</span></span> <span data-ttu-id="773fe-215">A munkamenet-konfigurációt azokon a számítógépeken, amelyek a rendszergazdák elérhetővé kívánnak tenni a Windows PowerShell Web Access terjeszthető (a csoportházirend használatával).</span><span class="sxs-lookup"><span data-stu-id="773fe-215">The session configuration can be distributed (by using Group Policy) to all computers that administrators want to make accessible through Windows PowerShell Web Access.</span></span> <span data-ttu-id="773fe-216">Munkamenet-konfigurációkkal kapcsolatos további információkért lásd: [about_session_configuration_files](https://technet.microsoft.com/library/dd819508.aspx).</span><span class="sxs-lookup"><span data-stu-id="773fe-216">For more information about session configurations, see [about_Session_Configurations](https://technet.microsoft.com/library/dd819508.aspx).</span></span>
<span data-ttu-id="773fe-217">Az alábbiakban bemutatunk néhány példát erre a témakörre.</span><span class="sxs-lookup"><span data-stu-id="773fe-217">The following are some examples of this scenario.</span></span>

- <span data-ttu-id="773fe-218">A rendszergazda létrehoz egy nevű végpontot, **PswaEndpoint**, korlátozott futási térrel.</span><span class="sxs-lookup"><span data-stu-id="773fe-218">An administrator creates an endpoint, called **PswaEndpoint**, with a restricted runspace.</span></span> <span data-ttu-id="773fe-219">Ezt követően a rendszergazda létrehoz egy szabályt,  **\*,\*, PswaEndpoint**, és elosztja a végpontot a többi számítógép.</span><span class="sxs-lookup"><span data-stu-id="773fe-219">Then, the administrator creates a rule, **\*,\*,PswaEndpoint**, and distributes the endpoint to other computers.</span></span> <span data-ttu-id="773fe-220">A szabály lehetővé teszi, hogy az összes felhasználónak a végpont összes számítógép **PswaEndpoint**.</span><span class="sxs-lookup"><span data-stu-id="773fe-220">The rule allows all users to access all computers with the endpoint **PswaEndpoint**.</span></span> <span data-ttu-id="773fe-221">Ha a szabálykészletben ez az egyetlen definiált engedélyezési szabály, az ezzel a végponttal nem rendelkező számítógépek nem lesznek elérhetők.</span><span class="sxs-lookup"><span data-stu-id="773fe-221">If this is the only authorization rule defined in the rule set, computers without that endpoint would not be accessible.</span></span>

- <span data-ttu-id="773fe-222">A rendszergazda létrehozott egy korlátozott futási teret hívása **PswaEndpoint**, és az egyes felhasználók hozzáférését korlátozni kívánja.</span><span class="sxs-lookup"><span data-stu-id="773fe-222">The administrator created an endpoint with a restricted runspace called **PswaEndpoint**,and wants to restrict access to specific users.</span></span> <span data-ttu-id="773fe-223">A rendszergazda nevű csoportot hoz létre **Level1Support**, és a következő szabályt definiálja: **Level1Support,\*, PswaEndpoint**.</span><span class="sxs-lookup"><span data-stu-id="773fe-223">The administrator creates a group of users called **Level1Support**, and defines the following rule: **Level1Support,\*,PswaEndpoint**.</span></span> <span data-ttu-id="773fe-224">A szabály engedélyezi a csoportban lévő egyik felhasználóra sem **Level1Support** összes számítógép eléréséhez a **PswaEndpoint** konfigurációs.</span><span class="sxs-lookup"><span data-stu-id="773fe-224">The rule grants any users in the group **Level1Support** access to all computers with the **PswaEndpoint** configuration.</span></span> <span data-ttu-id="773fe-225">Hasonlóképpen, a hozzáférés korlátozható egy meghatározott számítógépcsoportra.</span><span class="sxs-lookup"><span data-stu-id="773fe-225">Similarly, access can be restricted to a specific set of computers.</span></span>

- <span data-ttu-id="773fe-226">Néhány rendszergazda bizonyos felhasználóknak több hozzáférést biztosít, mint a többieknek.</span><span class="sxs-lookup"><span data-stu-id="773fe-226">Some administrators provide certain users more access than others.</span></span> <span data-ttu-id="773fe-227">Például a rendszergazda létrehoz két felhasználói csoportot **rendszergazdák** és **BasicSupport**.</span><span class="sxs-lookup"><span data-stu-id="773fe-227">For example, an administrator creates two user groups, **Admins** and **BasicSupport**.</span></span> <span data-ttu-id="773fe-228">A rendszergazda létrehoz továbbá egy korlátozott futási térrel rendelkező **PswaEndpoint**, és a következő két szabályt definiálja: **rendszergazdák\*,\***  és  **BasicSupport,\*, PswaEndpoint**.</span><span class="sxs-lookup"><span data-stu-id="773fe-228">The administrator also creates an endpoint with a restricted runspace called **PswaEndpoint**, and defines the following two rules: **Admins,\*,\*** and **BasicSupport,\*,PswaEndpoint**.</span></span> <span data-ttu-id="773fe-229">Az első szabály lévő összes felhasználó számára biztosít a **Admin** az összes számítógép és a második szabály csoport hozzáférést biztosít a lévő összes felhasználó számára a **BasicSupport** csak hozzáféréssel rendelkező számítógépek csoport  **PswaEndpoint**.</span><span class="sxs-lookup"><span data-stu-id="773fe-229">The first rule provides all users in the **Admin** group access to all computers, and the second rule provides all users in the **BasicSupport** group access only to those computers with **PswaEndpoint**.</span></span>

- <span data-ttu-id="773fe-230">A rendszergazda beállított egy privát tesztkörnyezetet, és szeretné engedélyezni az összes jogosult hálózati felhasználó számára a hozzáférést a hálózaton található összes olyan számítógéphez, amelyhez általában hozzáférhetnek, az összes olyan munkamenet-konfigurációhoz való hozzáféréssel, amelyhez általában hozzáférhetnek.</span><span class="sxs-lookup"><span data-stu-id="773fe-230">An administrator has set up a private test environment, and wants to allow all authorized network users access to all computers on the network to which they typically have access, with access to all session configurations to which they typically have access.</span></span> <span data-ttu-id="773fe-231">Mivel ez egy privát tesztkörnyezet, a rendszergazda egy nem biztonságos engedélyezési szabályt hoz létre.</span><span class="sxs-lookup"><span data-stu-id="773fe-231">Because this is a private test environment, the administrator creates an authorization rule that is not secure.</span></span>
  - <span data-ttu-id="773fe-232">A rendszergazda futtatja a parancsmagot `Add-PswaAuthorizationRule * * *`, amely használja, a helyettesítő karakter  **\***  minden felhasználó, az összes számítógép és az összes konfiguráció képviseletére.</span><span class="sxs-lookup"><span data-stu-id="773fe-232">The administrator runs the cmdlet `Add-PswaAuthorizationRule * * *`, which uses the wildcard character **\*** to represent all users, all computers, and all configurations.</span></span>
  - <span data-ttu-id="773fe-233">Ez a szabály megegyezik a következővel: `Add-PswaAuthorizationRule -UserName * -ComputerName * -ConfigurationName *`.</span><span class="sxs-lookup"><span data-stu-id="773fe-233">This rule is the equivalent of the following: `Add-PswaAuthorizationRule -UserName * -ComputerName * -ConfigurationName *`.</span></span>

  ><span data-ttu-id="773fe-234">**Megjegyzés:**:</span><span class="sxs-lookup"><span data-stu-id="773fe-234">**Note**:</span></span>
  >
  ><span data-ttu-id="773fe-235">Ez a szabály biztonságos környezetben nem ajánlott, és nincs hatással az engedélyezési szabály nyújtott biztonsági rétegre vonatkozó Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="773fe-235">This rule is not recommended in a secure environment, and bypasses the authorization rule layer of security provided by Windows PowerShell Web Access.</span></span>

- <span data-ttu-id="773fe-236">A rendszergazdának egy olyan környezetben kell engedélyeznie a felhasználók számára a célszámítógépekhez történő csatlakozást, amely egyaránt tartalmaz munkacsoportokat és tartományokat, ahol munkacsoportok számítógépeit alkalmanként a tartományokban lévő célszámítógépekhez való csatlakozáshoz használják, a tartományokban levő számítógépeket pedig alkalmanként a munkacsoportokban lévő célszámítógépekhez való csatlakozáshoz használják.</span><span class="sxs-lookup"><span data-stu-id="773fe-236">An administrator must allow users to connect to target computers in an environment that includes both workgroups and domains, where workgroup computers are occasionally used to connect to target computers in domains, and computers in domains are occasionally used to connect to target computers in workgroups.</span></span> <span data-ttu-id="773fe-237">A rendszergazda a átjárókiszolgáló *PswaServer*, munkacsoportban; és a célszámítógép *srv1.contoso.com* tartományban van.</span><span class="sxs-lookup"><span data-stu-id="773fe-237">The administrator has a gateway server, *PswaServer*, in a workgroup; and target computer *srv1.contoso.com* is in a domain.</span></span> <span data-ttu-id="773fe-238">Felhasználói *Chris* jogosult helyi felhasználója a munkacsoport átjárókiszolgálónak és a célszámítógép is van.</span><span class="sxs-lookup"><span data-stu-id="773fe-238">User *Chris* is an authorized local user on both the workgroup gateway server and the target computer.</span></span> <span data-ttu-id="773fe-239">A felhasználónév a munkacsoport-kiszolgálón *chrisLocal*; és a felhasználónév, a célszámítógépen *contoso\\chris*.</span><span class="sxs-lookup"><span data-stu-id="773fe-239">His user name on the workgroup server is *chrisLocal*; and his user name on the target computer is *contoso\\chris*.</span></span> <span data-ttu-id="773fe-240">Ahhoz, hogy engedélyezze Chris számára a srv1.contoso.com célszámítógéphez való hozzáférést, rendszergazda a következő szabályt adja hozzá.</span><span class="sxs-lookup"><span data-stu-id="773fe-240">To authorize access to srv1.contoso.com for Chris, the administrator adds the following rule.</span></span>

```powershell
Add-PswaAuthorizationRule -userName PswaServer\chrisLocal -computerName srv1.contoso.com -configurationName Microsoft.PowerShell
```

<span data-ttu-id="773fe-241">Az előző példában a szabály hitelesíti Christ az átjárókiszolgálón, és ezután engedélyezi a számára a hozzáférést a *srv1*.</span><span class="sxs-lookup"><span data-stu-id="773fe-241">The preceding rule example authenticates Chris on the gateway server, and then authorizes his access to *srv1*.</span></span> <span data-ttu-id="773fe-242">A bejelentkezési oldalon Chris egy második együttesét a hitelesítő adatokat kell megadnia a **választható csatlakozási beállítások** terület (*contoso\\chris*).</span><span class="sxs-lookup"><span data-stu-id="773fe-242">On the sign-in page, Chris must provide a second set of credentials in the **Optional connection settings** area (*contoso\\chris*).</span></span> <span data-ttu-id="773fe-243">Az átjárókiszolgáló használ a további hitelesítő adatok hitelesíti christ a célszámítógépen *srv1.contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="773fe-243">The gateway server uses the additional set of credentials to authenticate him on the target computer, *srv1.contoso.com*.</span></span>

<span data-ttu-id="773fe-244">Az előző esetben a Windows PowerShell Web Access a cél számítógéphez sikeres kapcsolatot létesít a csak után a következő volt sikeres, és legalább egy engedélyezési szabály engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="773fe-244">In the preceding scenario, Windows PowerShell Web Access establishes a successful connection to the target computer only after the following have been successful, and allowed by at least one authorization rule.</span></span>

1. <span data-ttu-id="773fe-245">Hitelesítés a munkacsoport átjárókiszolgálóján a felhasználónév formátuma való hozzáadásával *kiszolgáló_neve*\\*felhasználónév* az engedélyezési szabály</span><span class="sxs-lookup"><span data-stu-id="773fe-245">Authentication on the workgroup gateway server by adding a user name in the format *server_name*\\*user_name* to the authorization rule</span></span>

2. <span data-ttu-id="773fe-246">Hitelesítés a célszámítógépen a bejelentkezési oldal, a megadott másodlagos hitelesítő adatok használatával a **választható csatlakozási beállítások** terület</span><span class="sxs-lookup"><span data-stu-id="773fe-246">Authentication on the target computer by using alternate credentials provided on the sign-in page, in the **Optional connection settings** area</span></span>

  ><span data-ttu-id="773fe-247">**Megjegyzés:**:</span><span class="sxs-lookup"><span data-stu-id="773fe-247">**Note**:</span></span>
  >
  ><span data-ttu-id="773fe-248">Ha az átjáró-számítógép és a célszámítógép különböző munkacsoportokban vagy tartományokban vannak, megbízhatósági kapcsolatot kell létrehozni a két munkacsoport-számítógép, a két tartomány vagy a munkacsoport és a tartomány között.</span><span class="sxs-lookup"><span data-stu-id="773fe-248">If gateway and target computers are in different workgroups or domains, a trust relationship must be established between the two workgroup computers, the two domains, or between the workgroup and the domain.</span></span> <span data-ttu-id="773fe-249">Ezt a kapcsolatot nem lehet konfigurálni a Windows PowerShell Web Access engedélyezési szabályokra vonatkozó parancsmagjainak használatával.</span><span class="sxs-lookup"><span data-stu-id="773fe-249">This relationship cannot be configured by using Windows PowerShell Web Access authorization rule cmdlets.</span></span> <span data-ttu-id="773fe-250">Az engedélyezési szabályok nem határoznak meg megbízhatósági kapcsolatot a számítógépek között, csak a felhasználóknak engedélyezik, hogy az adott célszámítógépekhez és munkamenet-konfigurációkhoz csatlakozzanak.</span><span class="sxs-lookup"><span data-stu-id="773fe-250">Authorization rules do not define a trust relationship between computers; they can only authorize users to connect to specific target computers and session configurations.</span></span> <span data-ttu-id="773fe-251">Különböző tartományok közötti megbízhatósági kapcsolat konfigurálásával kapcsolatos további információkért lásd: [létrehozása tartományi és erdőszintű megbízhatóság](https://technet.microsoft.com/library/cc794775.aspx").</span><span class="sxs-lookup"><span data-stu-id="773fe-251">For more information about how to configure a trust relationship between different domains, see [Creating Domain and Forest Trusts](https://technet.microsoft.com/library/cc794775.aspx").</span></span> <span data-ttu-id="773fe-252">További információ a munkacsoport-számítógépek felvétele a megbízható gazdagépek listájához: [távoli felügyelet a Kiszolgálókezelővel](https://technet.microsoft.com/library/dd759202.aspx)</span><span class="sxs-lookup"><span data-stu-id="773fe-252">For more information about how to add workgroup computers to a trusted hosts list, see [Remote Management with Server Manager](https://technet.microsoft.com/library/dd759202.aspx)</span></span>

### <a name="using-a-single-set-of-authorization-rules-for-multiple-sites"></a><span data-ttu-id="773fe-253">Egyetlen engedélyezési szabálykészlet használata több helyhez</span><span class="sxs-lookup"><span data-stu-id="773fe-253">Using a single set of authorization rules for multiple sites</span></span>

<span data-ttu-id="773fe-254">Az engedélyezési szabályok XML-fájlban tárolódnak.</span><span class="sxs-lookup"><span data-stu-id="773fe-254">Authorization rules are stored in an XML file.</span></span> <span data-ttu-id="773fe-255">Alapértelmezés szerint az XML-fájl elérési útjának van _% windir %\\webes\\PowershellWebAccess\\adatok\\AuthorizationRules.xml_.</span><span class="sxs-lookup"><span data-stu-id="773fe-255">By default, the path name of the XML file is _%windir%\\Web\\PowershellWebAccess\\data\\AuthorizationRules.xml_.</span></span>

<span data-ttu-id="773fe-256">Az engedélyezési szabályok XML-fájl elérési útja tárolja a **powwa.config** fájl, amelyet az _% windir %\\webes\\PowershellWebAccess\\adatok_.</span><span class="sxs-lookup"><span data-stu-id="773fe-256">The path to the authorization rules XML file is stored in the **powwa.config** file, which is found in _%windir%\\Web\\PowershellWebAccess\\data_.</span></span> <span data-ttu-id="773fe-257">A rendszergazda a rugalmasan módosíthatja az alapértelmezett elérési utat a hivatkozás **powwa.config** beállításoknak vagy követelményeknek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="773fe-257">The administrator has the flexibility to change the reference to the default path in **powwa.config** to suit preferences or requirements.</span></span> <span data-ttu-id="773fe-258">Így a rendszergazdák a fájl helyének módosítása lehetővé teszi, hogy több Windows PowerShell Web Access-átjáró használja ugyanazokat az engedélyezési szabályokat, ha ilyen konfiguráció van szükség.</span><span class="sxs-lookup"><span data-stu-id="773fe-258">Allowing the administrator to change the location of the file lets multiple Windows PowerShell Web Access gateways use the same authorization rules, if such a configuration is desired.</span></span>

## <a name="session-management"></a><span data-ttu-id="773fe-259">Munkamenet-kezelés</span><span class="sxs-lookup"><span data-stu-id="773fe-259">Session management</span></span>

<span data-ttu-id="773fe-260">Alapértelmezés szerint a Windows PowerShell Web Access korlátozza a felhasználót, hogy egy adott időpontban legfeljebb három munkamenet.</span><span class="sxs-lookup"><span data-stu-id="773fe-260">By default, Windows PowerShell Web Access limits a user to three sessions at one time.</span></span> <span data-ttu-id="773fe-261">A webes alkalmazás szerkesztése **web.config** fájlt az IIS-kezelőben a felhasználói munkamenetek eltérő számú támogatásához.</span><span class="sxs-lookup"><span data-stu-id="773fe-261">You can edit the web application's **web.config** file in IIS Manager to support a different number of sessions per user.</span></span>
<span data-ttu-id="773fe-262">Az elérési útját a **web.config** fájl _$Env: Windir\\webes\\PowerShellWebAccess\\wwwroot\\Web.config_.</span><span class="sxs-lookup"><span data-stu-id="773fe-262">The path to the **web.config** file is _$Env:Windir\\Web\\PowerShellWebAccess\\wwwroot\\Web.config_.</span></span>

<span data-ttu-id="773fe-263">Alapértelmezés szerint az IIS webkiszolgáló úgy van beállítva, az alkalmazáskészlet újraindítása, ha bármilyen beállítás szerkesztése.</span><span class="sxs-lookup"><span data-stu-id="773fe-263">By default, IIS Web Server is configured to restart the application pool if any settings are edited.</span></span> <span data-ttu-id="773fe-264">Az alkalmazáskészlet újraindul például, ha módosítás történik az **web.config** fájlt.</span><span class="sxs-lookup"><span data-stu-id="773fe-264">For example, the application pool is restarted if changes are made to the **web.config** file.</span></span>
><span data-ttu-id="773fe-265">Mivel **Windows PowerShell Web Access** használ memóriában tárolt munkamenet-állapotokat, bejelentkezett felhasználók **Windows PowerShell Web Access** munkamenetek munkameneteik az alkalmazáskészlet újraindításakor elveszítik.</span><span class="sxs-lookup"><span data-stu-id="773fe-265">Because **Windows PowerShell Web Access** uses in-memory session states, users signed in to **Windows PowerShell Web Access** sessions lose their sessions when the application pool is restarted.</span></span>

### <a name="setting-default-parameters-on-the-sign-in-page"></a><span data-ttu-id="773fe-266">A bejelentkezési oldalon megjelenő alapértelmezett paraméterek beállítása</span><span class="sxs-lookup"><span data-stu-id="773fe-266">Setting default parameters on the sign-in page</span></span>

<span data-ttu-id="773fe-267">Ha a Windows PowerShell Web Access-átjáró Windows Server 2012 R2 rendszeren fut, konfigurálhatja a Windows PowerShell Web Access bejelentkezési lapon megjelenő beállítások alapértelmezett értékeit.</span><span class="sxs-lookup"><span data-stu-id="773fe-267">If your Windows PowerShell Web Access gateway is running on Windows Server 2012 R2, you can configure default values for the settings that are displayed on the Windows PowerShell Web Access sign-in page.</span></span> <span data-ttu-id="773fe-268">Beállíthatja, hogy az értékek a **web.config** az előző bekezdésben ismertetett fájlt.</span><span class="sxs-lookup"><span data-stu-id="773fe-268">You can configure values in the **web.config** file that is described in the preceding paragraph.</span></span> <span data-ttu-id="773fe-269">A bejelentkezési oldal beállításainak alapértelmezett értékek találhatók a **appSettings** szakasz a web.config fájl; az alábbiakban egy példát a **appSettings** szakasz.</span><span class="sxs-lookup"><span data-stu-id="773fe-269">Default values for the sign-in page settings are found in the **appSettings** section of the web.config file; the following is an example of the **appSettings** section.</span></span> <span data-ttu-id="773fe-270">Számos beállítás érvényes értékei megegyeznek a megfelelő paraméterértékeivel a [New-PSSession](https://technet.microsoft.com/library/hh849717.aspx) a Windows PowerShell parancsmag.</span><span class="sxs-lookup"><span data-stu-id="773fe-270">Valid values for many of these settings are the same as those for the corresponding parameters of the [New-PSSession](https://technet.microsoft.com/library/hh849717.aspx) cmdlet in Windows PowerShell.</span></span>
<span data-ttu-id="773fe-271">Például a `defaultApplicationName` kulcs, a következő kódrészletet, ahogy az az érték a **$PSSessionApplicationName** preferenciaváltozót a célszámítógépen.</span><span class="sxs-lookup"><span data-stu-id="773fe-271">For example, the `defaultApplicationName` key, as shown in the following code block, is the value of the **$PSSessionApplicationName** preference variable on the target computer.</span></span>

```xml
    <appSettings>
            <add key="maxSessionsAllowedPerUser" value="3"/>
            <add key="defaultPortNumber" value="5985"/>
            <add key="defaultSSLPortNumber" value="5986"/>
            <add key="defaultApplicationName" value="WSMAN"/>
            <add key="defaultUseSslSelection" value="0"/>
            <add key="defaultAuthenticationType" value="0"/>
            <add key="defaultAllowRedirection" value="0"/>
            <add key="defaultConfigurationName" value="Microsoft.PowerShell"/>
    </appSettings>
```

### <a name="time-outs-and-unplanned-disconnections"></a><span data-ttu-id="773fe-272">Időtúllépések és nem tervezett szétkapcsolások</span><span class="sxs-lookup"><span data-stu-id="773fe-272">Time-outs and unplanned disconnections</span></span>

<span data-ttu-id="773fe-273">A Windows PowerShell Web Access munkamenetek időkorlátja lejárt. A Windows PowerShell Web Access Windows Server 2012 rendszeren fut egy időtúllépési üzenet jelenik meg, bejelentkezett felhasználók 15 perc munkamenet inaktivitás után.</span><span class="sxs-lookup"><span data-stu-id="773fe-273">Windows PowerShell Web Access sessions time out. In Windows PowerShell Web Access running on Windows Server 2012, A time-out message is displayed to signed-in users after 15 minutes of session inactivity.</span></span> <span data-ttu-id="773fe-274">Ha a felhasználó az időtúllépési üzenet megjelenését követő 5 percen belül nem válaszol, a munkamenet véget ér, és a rendszer kijelentkezteti a felhasználót. Az IIS-kezelőben a webhely beállításainál módosíthatja a munkamenetekre vonatkozó időkorlátok időtartamát.</span><span class="sxs-lookup"><span data-stu-id="773fe-274">If the user does not respond within five minutes after the time-out message is displayed, the session is ended, and the user is signed out. You can change time-out periods for sessions in the website settings in IIS Manager.</span></span>

<span data-ttu-id="773fe-275">A Windows PowerShell Web Access futó Windows Server 2012 R2-ben munkamenetek időkorlátja lejárt, alapértelmezés szerint 20 perc inaktivitás után.</span><span class="sxs-lookup"><span data-stu-id="773fe-275">In Windows PowerShell Web Access running on Windows Server 2012 R2, sessions time out, by default, after 20 minutes of inactivity.</span></span> <span data-ttu-id="773fe-276">Ha a felhasználók kapcsolódnak le a webalapú konzolon hálózati hibák vagy egyéb nem tervezett leállások vagy hibák miatt, és nem, mert azok bezárta a munkameneteket magukat, a Windows PowerShell Web Access munkamenetek folytatják a futtatja, csatlakozik célszámítógépekhez, amíg az időkorlátjuk az ügyfél oldali telik.</span><span class="sxs-lookup"><span data-stu-id="773fe-276">If users are disconnected from sessions in the web-based console because of network errors or other unplanned shutdowns or failures, and not because they have closed the sessions themselves, the Windows PowerShell Web Access sessions continue to run, connected to target computers, until the time-out period on the client side lapses.</span></span> <span data-ttu-id="773fe-277">A munkamenet leválasztása vagy az alapértelmezett 20 perc lejárata után, vagy az átjáró rendszergazdája által megadott időtartam lejárata után (amelyik rövidebb) történik meg.</span><span class="sxs-lookup"><span data-stu-id="773fe-277">The session is disconnected after either the default 20 minutes, or after the time-out period specified by the gateway administrator, whichever is shorter.</span></span>

<span data-ttu-id="773fe-278">Ha az átjárókiszolgáló fut a Windows Server 2012 R2, Windows PowerShell Web Access lehetővé teszi a felhasználók csatlakozni mentett munkamenetek egy későbbi időpontban, de a hálózati hibák, nem tervezett leállások vagy más hibák leválasztani a munkameneteket, amikor a felhasználók nem látják és kapcsolódjon újra mentése munkamenetekhez, amíg az átjáró által megadott időtartam lejárata után a rendszergazda lejárt.</span><span class="sxs-lookup"><span data-stu-id="773fe-278">If the gateway server is running Windows Server 2012 R2, Windows PowerShell Web Access lets users reconnect to saved sessions at a later time, but when network errors, unplanned shutdowns, or other failures disconnect sessions, users cannot see or reconnect to saved sessions until after the time-out period specified by the gateway administrator has lapsed.</span></span>

## <a name="see-also"></a><span data-ttu-id="773fe-279">Lásd még:</span><span class="sxs-lookup"><span data-stu-id="773fe-279">See Also</span></span>

- <span data-ttu-id="773fe-280">[Telepítheti és használhatja a Windows PowerShell Web Access](https://technet.microsoft.com/en-us/library/hh831611(v=ws.11).aspx)</span><span class="sxs-lookup"><span data-stu-id="773fe-280">[Install and Use Windows PowerShell Web Access](https://technet.microsoft.com/en-us/library/hh831611(v=ws.11).aspx)</span></span>
- [<span data-ttu-id="773fe-281">about_Session_Configurations</span><span class="sxs-lookup"><span data-stu-id="773fe-281">about_Session_Configurations</span></span>](https://technet.microsoft.com/library/dd819508.aspx)
- [<span data-ttu-id="773fe-282">A Windows PowerShell webes elérés parancsmagjai</span><span class="sxs-lookup"><span data-stu-id="773fe-282">Windows PowerShell Web Access Cmdlets</span></span>](cmdlets/web-access-cmdlets.md)
